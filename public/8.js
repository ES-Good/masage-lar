(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"55VC":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"\n.success-toast{\n    background-color: #2d995b;\n}\n",""])},C5uu:function(t,e,a){"use strict";a.r(e);var s=a("o0o1"),n=a.n(s);function i(t,e,a,s,n,i,r){try{var o=t[i](r),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(s,n)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var r=t.apply(e,a);function o(t){i(r,s,n,o,l,"next",t)}function l(t){i(r,s,n,o,l,"throw",t)}o(void 0)}))}}var o={name:"login",data:function(){return{id:"",name:"",email:"",password:""}},computed:{getName:function(){return this.$store.getters.auth}},methods:{getUser:function(){var t=this;return r(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.post("/api/check");case 2:a=e.sent,t.name=a.data.user.name,t.email=a.data.user.email,t.id=a.data.user.id;case 6:case"end":return e.stop()}}),e)})))()},setUpdate:function(){var t=this;return r(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/api/profile/update",{id:t.id,name:t.name,email:t.email,password:t.password});case 3:200===e.sent.status&&M.toast({html:"Данные успешно обновлены",classes:"success-toast"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),M.toast({html:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){this.getUser()}},l=(a("MfHc"),a("KHd+")),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("form",{staticClass:"form"},[a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"validate",attrs:{placeholder:"Placeholder",id:"name",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active",attrs:{for:"name"}},[t._v("Имя")]),t._v(" "),a("span",{staticClass:"helper-text invalid"},[t._v("name")])]),t._v(" "),a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"validate",attrs:{id:"email",placeholder:"Placeholder",type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("label",{staticClass:"active",attrs:{for:"email"}},[t._v("Email")]),t._v(" "),a("span",{staticClass:"helper-text invalid"},[t._v("Email")])]),t._v(" "),a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),a("span",{staticClass:"helper-text invalid"},[t._v("Password")])]),t._v(" "),a("button",{staticClass:"btn red lighten-1 waves-effect waves-light",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.setUpdate(e)}}},[t._v("\n      Обновить\n      "),a("i",{staticClass:"material-icons right"},[t._v("send")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-title"},[e("h3",[this._v("Профиль")])])}],!1,null,null,null);e.default=c.exports},MfHc:function(t,e,a){"use strict";a("XGC7")},XGC7:function(t,e,a){var s=a("55VC");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)}}]);
//# sourceMappingURL=8.js.map